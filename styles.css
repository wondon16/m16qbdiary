/* ===== THEME ===== */
:root{
  --navy:#0b1e3a; --navy-2:#0f2b53;
  --sky:#62c7ff;  --sky-2:#2aa3ff;
  --ink:#f7fbff;  --muted:#c9e2ff;
  --line:#163556; --success:#27d17a; --shadow:rgba(0,0,0,.45);
}
*{box-sizing:border-box} html,body{height:100%} html{scroll-behavior:smooth}
body{
  margin:0;
  /* Background is rendered via space.js canvas; keep solid fallback */
  background:#050913;
  color:var(--ink); font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
a{color:inherit; text-decoration:none}
.inp{width:100%; padding:12px; border-radius:10px; background:rgba(15,35,68,.75); border:1px solid #1b3f6d; color:var(--ink); transition:.2s}
.inp:focus{outline:none; border-color:var(--sky); box-shadow:0 0 0 3px rgba(98,199,255,.28)}
.inp-lg{padding:14px; font-size:16px}
.btn{border:none; cursor:pointer; font-weight:700}
.pill{border-radius:999px}
.btn-lg{padding:12px 18px; font-size:16px}
.btn-primary{color:#052244; background:linear-gradient(180deg,var(--sky),var(--sky-2))}
.btn-primary:hover{filter:brightness(1.03)}
.btn-outline{padding:10px 14px; background:transparent; color:var(--ink); border:1px solid var(--line)}
.btn-outline:hover{border-color:var(--sky); color:var(--sky)}
.btn-ghost{padding:10px 12px; background:transparent; border:1px solid var(--line); color:var(--ink); border-radius:10px}
.btn-ghost:hover{border-color:var(--sky); color:var(--sky)}
.brand-name{font:700 22px/1.1 "Playfair Display", serif}

/* ===== COVER ===== */
.cover{min-height:100dvh; display:grid; place-items:center; padding:24px}
.cover-card{width:min(880px,96vw); background:linear-gradient(180deg,rgba(23,47,87,.92),rgba(14,30,57,.96)); border:1px solid var(--line); border-radius:18px; padding:28px 24px; text-align:center; box-shadow:0 40px 80px var(--shadow)}
.cover-card--bare{background:transparent; border:none; box-shadow:none; padding:24px 14px}
.cover-logo{width:100%; height:100%; object-fit:contain; display:block}
.cover-logo-wrap{width:min(86vw, 760px); height:min(86vw, 760px); margin:2px auto 18px; perspective:800px; animation:float 6s ease-in-out infinite; will-change:transform}
.cover-logo-wrap .cover-logo{transform-style:preserve-3d; animation:spinY 12s linear infinite; will-change:transform; filter:drop-shadow(0 12px 24px rgba(0,0,0,.45)) drop-shadow(0 4px 10px rgba(98,199,255,.25))}
.cover-title{margin:8px 0 6px; font: 700 40px/1.08 "Playfair Display", serif}
.cover-card--bare .cover-title{margin:12px 0 10px; font-weight:800; font-size:clamp(36px,6vw,64px); line-height:1.05}
.cover-desc{margin:6px auto 18px; color:var(--muted); max-width:62ch; font-size:15px}
.cover-card--bare .cover-desc{font-size:clamp(16px,2.4vw,20px); margin:8px auto 20px}
.gate-actions{display:flex; justify-content:center; gap:12px; margin:6px 0 8px}
.gate{display:grid; gap:10px; max-width:440px; margin:0 auto 10px}
.gate-label{font-weight:700; color:#e6f3ff; text-align:left}
.gate-hint{min-height:18px; margin:0; color:#ffd1d1; font-size:13px}
.cover-foot{color:var(--muted)}
.app.locked{display:none}

/* ===== HEADER ===== */
.site-header{
  position:sticky; top:0; z-index:50; display:flex; align-items:center; justify-content:space-between;
  padding:12px 20px; border-bottom:1px solid var(--line);
  background:linear-gradient(180deg, rgba(11,27,53,0.88), rgba(11,27,53,0.72));
  backdrop-filter: blur(6px);
}
.brand{display:flex; align-items:center; gap:10px}
.brand-mark{width:14px; height:14px; border-radius:50%; background:radial-gradient(circle at 30% 30%, var(--sky), #0a7ed8 70%, #08518d 100%); box-shadow:0 0 12px rgba(98,199,255,.7)}
.toolbar{display:flex; align-items:center; gap:12px}

/* Tabs */
.top-tabs{display:flex; gap:8px}
.tab{
  padding:8px 12px; border-radius:999px; border:1px solid var(--line);
  color:var(--ink); background:linear-gradient(180deg,#0f2b53,#0b2244); font-weight:800; letter-spacing:.02em;
}
.tab:hover{border-color:var(--sky); color:var(--sky)}
.tab.active{border-color:rgba(98,199,255,.45); box-shadow:0 0 0 3px rgba(98,199,255,.18) inset}

/* Week controls */
.week-nav{display:flex; align-items:center; gap:8px}
.nav-arrow{appearance:none; border:1px solid var(--line); background:transparent; color:var(--ink); padding:8px 11px; border-radius:999px; cursor:pointer; font-weight:700}
.nav-arrow:hover{border-color:var(--sky); color:var(--sky)}
.week-badge{border:1px solid var(--line); background:linear-gradient(180deg,#0f2b53,#0b2244); color:var(--ink); padding:8px 14px; border-radius:999px; font-weight:800}
.week-badge.complete{border-color:rgba(39,209,122,.5); background:linear-gradient(180deg, rgba(39,209,122,.2), rgba(39,209,122,.05)); box-shadow:0 0 0 3px rgba(39,209,122,.18) inset}

/* ===== WEEK META ===== */
.week-meta{max-width:1040px; margin:12px auto 6px; padding:0 20px; display:grid; grid-template-columns:1fr auto; align-items:center; gap:10px}
.week-progress{width:100%; height:8px; background:#0c2447; border:1px solid var(--line); border-radius:999px; overflow:hidden}
.week-progress .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--sky),var(--sky-2)); box-shadow:0 0 10px rgba(98,199,255,.5); transition:width .3s ease}
.week-progress-text{font-size:12px; color:var(--muted); justify-self:end}
.week-checklist{grid-column:1/-1; display:flex; flex-wrap:wrap; gap:8px; margin:6px 0 0; padding:0; list-style:none}
.week-check-item{display:flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:linear-gradient(180deg,#0f2b53,#0b2244); color:var(--ink); font-weight:700; font-size:12px}
.week-check-item.complete{border-color:rgba(39,209,122,.5); box-shadow:0 0 0 3px rgba(39,209,122,.14) inset}
.check-dot{width:10px; height:10px; border-radius:50%; border:1px solid #2b5a8d}
.week-check-item.complete .check-dot{background:var(--success); border-color:var(--success); box-shadow:0 0 6px rgba(39,209,122,.8)}

/* ===== HERO ===== */
.hero{padding:18px 20px 6px; border-bottom:1px solid var(--line)}
.hero-content{max-width:1040px; margin:0 auto}
.hero-title{font:700 32px/1.1 "Playfair Display", serif; margin:0 0 6px}
.hero-sub{margin:0; color:var(--muted); font-size:14px}

/* ===== PORTALS ===== */
.portal-grid{max-width:1040px; margin:14px auto 40px; padding:0 20px; display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.portal-card{position:relative; overflow:hidden; padding:16px 18px; border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg, rgba(18,45,85,.88), rgba(10,30,61,.88)); transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease; cursor:pointer}
.portal-card:hover{transform:translateY(-2px); border-color:#235488; box-shadow:0 20px 48px var(--shadow)}
.card-head{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px}
.card-head h3{margin:0; font:700 20px/1.2 Inter, sans-serif}
.status-wrap{display:flex; align-items:center; gap:8px}
.status-pill{padding:4px 10px; font-size:12px; border-radius:999px; border:1px solid var(--line); color:var(--muted); background:rgba(10,28,60,.48); font-weight:700}
.portal-card.complete .status-pill{color:#052d16; background:rgba(39,209,122,.25); border-color:rgba(39,209,122,.4); font-weight:800}
.portal-dot{width:10px; height:10px; border-radius:50%; background:transparent; border:1px solid #3a5f89}
.portal-card.complete .portal-dot{background:var(--success); border-color:var(--success); box-shadow:0 0 8px rgba(39,209,122,.8)}
.portal-kicker{margin:0 0 12px; color:var(--muted); font-size:13px}
.btn-portal{display:inline-block; padding:10px 14px; border-radius:999px; border:1px solid var(--line); background:transparent; color:var(--ink); font-weight:600}
.portal-card:hover .btn-portal{border-color:var(--sky); color:var(--sky)}

/* ===== OVERLAY ===== */
.overlay{position:fixed; inset:0; display:none; place-items:center; background:rgba(4,12,25,0.55); backdrop-filter: blur(6px)}
.overlay.show{display:grid; animation:fadeIn .24s ease}
.overlay-content{position:relative; width:min(980px,92vw); max-height:86vh; background:linear-gradient(180deg, rgba(17,38,73,.95), rgba(12,29,58,.96)); border:1px solid var(--line); border-radius:16px; padding:20px; overflow:auto; box-shadow:0 40px 80px var(--shadow)}
.overlay-title{margin:4px 0 4px; font:700 26px/1.15 "Playfair Display", serif}
.overlay-intro{margin:0 0 12px; color:var(--muted)}
.overlay-close{position:sticky; top:0; float:right; background:transparent; color:var(--ink); border:none; font-size:28px; line-height:1; cursor:pointer; padding:4px 6px; margin:-6px -6px 0 0}
.portal-form{margin-top:4px}
.portal-section{display:none}
.portal-section.active{display:block}
.pulldown{border-top:1px solid var(--line); padding:4px 0 6px}
.pulldown:first-of-type{border-top:none}
.pulldown>summary{list-style:none; cursor:pointer; user-select:none; padding:12px 0; position:relative; font-weight:700; letter-spacing:.02em}
.pulldown>summary::-webkit-details-marker{display:none}
.pulldown>summary:after{content:"â–¾"; position:absolute; right:0; top:12px; color:var(--muted); transition:transform .2s}
.pulldown[open]>summary:after{transform:rotate(-180deg)}
.lbl{display:block; margin:10px 0 6px; color:var(--ink); font-weight:600}
.hint{margin:-2px 0 8px; color:var(--muted); font-size:12px}
.traits{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:10px}
.checks{display:grid; grid-template-columns:1fr; gap:10px; margin:8px 0}
.checks.two{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
.bullets{margin:10px 0 12px 18px; color:#e6f4ff}
.copy p{margin:8px 0}
.copy .idea{margin-top:12px; padding:10px 12px; border:1px dashed var(--line); border-radius:10px; color:#eaf7ff}
.panel-actions{display:flex; align-items:center; gap:10px; justify-content:flex-end; padding-top:10px; border-top:1px solid var(--line); margin-top:12px}
.save-status{color:var(--muted); font-size:12px}
.save-status--panel{opacity:.85}

/* ===== PAY PAGE ===== */
.pay-body .cover-card{max-width:560px}
.paypal-wrap{display:grid; place-items:center; margin:8px auto; min-height:50px}
.pay-msg{min-height:20px; color:var(--muted); margin:6px 0 4px}
.unlock-panel{margin-top:10px; padding:12px; border:1px solid var(--line); border-radius:12px; background:linear-gradient(180deg, rgba(15,43,83,.55), rgba(10,32,68,.6))}
.unlock-note{margin:0 0 6px}
.unlock-code{font:800 26px/1 Inter, sans-serif; letter-spacing:.16em; color:#eaffff; background:rgba(98,199,255,.12); border:1px dashed var(--sky); border-radius:10px; padding:10px}

/* ===== SCHEDULER ===== */
.book-wrap{max-width:1100px; margin:18px auto 40px; padding:0 20px}
.book-hero{margin:6px 0 12px}
.book-title{font:700 34px/1.1 "Playfair Display", serif; margin:0 0 6px}
.book-sub{margin:0; color:var(--muted)}
.book-layout{display:grid; gap:16px; grid-template-columns:1.1fr 1fr .9fr; align-items:start; margin-top:12px}
.card{border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg, rgba(18,45,85,.88), rgba(10,30,61,.88)); padding:14px}

/* Calendar */
.calendar .cal-header{display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:10px}
.calendar .cal-title{font-weight:800; letter-spacing:.5px}
.cal-weekdays, .cal-grid{display:grid; grid-template-columns:repeat(7,1fr); gap:6px}
.cal-weekdays>div{text-align:center; color:var(--muted); font-weight:700; font-size:12px; padding:6px 0}
.cal-grid{min-height:260px}
.day{height:40px; display:flex; align-items:center; justify-content:center; border:1px solid var(--line); border-radius:10px; background:linear-gradient(180deg,#0f2b53,#0b2244); color:var(--ink); cursor:pointer}
.day:hover{border-color:var(--sky); color:var(--sky)}
.day.today{outline:2px solid rgba(98,199,255,.28)}
.day.selected{box-shadow:0 0 0 2px var(--sky) inset; border-color:var(--sky)}
.day.disabled{opacity:.35; cursor:not-allowed}
.day.blank{background:transparent; border:none}

.cal-foot{margin-top:10px}
.muted{color:var(--muted); font-size:13px}

.slots .slots-title{margin:6px 0}
.slot-list{display:flex; flex-wrap:wrap; gap:8px; min-height:42px; align-items:center; margin-bottom:8px}
.slot-btn.btn-sm,.btn-sm{font-size:12px; padding:6px 10px}
.slot-disabled{opacity:.4; pointer-events:none}
.slot-selected{border-color:var(--sky); color:var(--sky); box-shadow:0 0 0 2px rgba(98,199,255,.15) inset}

.booking-form .form-row{margin:8px 0; display:flex; gap:10px; align-items:center}
.booking-form .form-row.two>*{flex:1}
.divider{border:0; border-top:1px solid var(--line); margin:10px 0}
.pay-panel{margin-top:6px; padding:10px 12px; border:1px dashed var(--line); border-radius:10px; background:rgba(98,199,255,.06)}

.after-booking{margin-top:10px; padding:10px; border:1px dashed var(--line); border-radius:10px; background:rgba(98,199,255,.06)}
.after-actions{display:flex; flex-wrap:wrap; gap:8px}

.my-bookings .bookings-list{list-style:none; margin:8px 0; padding:0; display:grid; gap:8px}
.booking-item{display:grid; gap:4px; padding:10px; border:1px solid var(--line); border-radius:10px; background:rgba(15,43,83,.35)}
.booking-who{color:#e6f4ff; font-size:13px}
.booking-who .paid{color:#9dffc9}
.booking-actions{display:flex; gap:8px}

/* Responsive */
@media (max-width:980px){ .book-layout{grid-template-columns:1fr} }

/* ===== TOAST/CONFETTI/FOOTER ===== */
.toast{position:fixed; left:50%; bottom:28px; transform:translateX(-50%) translateY(120%); min-width:260px; max-width:80vw; text-align:center; z-index:100; padding:12px 16px; border-radius:12px; border:1px solid rgba(39,209,122,.4); background:linear-gradient(180deg, rgba(39,209,122,.2), rgba(39,209,122,.06)); color:#eafff3; font-weight:800; box-shadow:0 12px 30px var(--shadow); transition:transform .35s ease}
.toast.show{transform:translateX(-50%) translateY(0)}
.confetti{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:99}
.confetti .piece{position:absolute; width:8px; height:14px; border-radius:2px; opacity:.9; animation:fall 1400ms linear forwards}
@keyframes fall{0%{transform:translateY(-20px) rotate(0)}100%{transform:translateY(110vh) rotate(720deg)}}
.site-footer{max-width:1040px; margin:30px auto 50px; padding:0 20px; color:var(--muted); font-size:12px}
@keyframes fadeIn{from{opacity:0} to{opacity:1}}
/* Fullscreen space canvas */
#space-bg{position:fixed; inset:0; width:100vw; height:100vh; z-index:-1; display:block; pointer-events:none}
@keyframes spinY{from{transform:rotateY(0)} to{transform:rotateY(360deg)}}
@keyframes float{0%{transform:translateY(0) rotateX(0)} 50%{transform:translateY(-12px) rotateX(8deg)} 100%{transform:translateY(0) rotateX(0)}}
@media (prefers-reduced-motion: reduce){
  .cover-logo-wrap{animation:none}
  .cover-logo-wrap .cover-logo{animation:none}
}
/* Small 3D logo (e.g., header) */
.logo3d{display:inline-block; perspective:600px; animation:float 6s ease-in-out infinite; will-change:transform}
.logo3d img{display:block; width:100%; height:100%; object-fit:contain; transform-style:preserve-3d; animation:spinY 12s linear infinite; will-change:transform; filter:drop-shadow(0 6px 12px rgba(0,0,0,.35)) drop-shadow(0 2px 6px rgba(98,199,255,.2))}
.logo3d--sm{width:64px; height:64px}
@media (prefers-reduced-motion: reduce){ .logo3d, .logo3d img { animation:none } }
.typewriter{position:relative; font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; color:#e6f7ff; text-shadow:0 0 10px rgba(98,199,255,.18); overflow:hidden; max-width:min(92vw,980px); margin:16px auto 20px; padding:0 8px; text-align:center}
.typewriter::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 0%, rgba(98,199,255,.18) 40%, transparent 70%); transform:translateX(-120%); animation:sheen 7s ease-in-out infinite; pointer-events:none}
.typewriter-text{white-space:pre-wrap; font-size:clamp(18px,2.4vw,22px); line-height:1.5}
.type-line{opacity:0; transform:translateY(8px) scale(.995); filter:blur(2px)}
.type-line.show{animation:fadeUp .52s cubic-bezier(.2,.7,.2,1) forwards}
@keyframes fadeUp{to{opacity:1; transform:none; filter:none}}
@keyframes sheen{0%{transform:translateX(-120%)} 55%{transform:translateX(120%)} 100%{transform:translateX(120%)}}
/* Glassy backdrop for intro text */
.intro-glass{max-width:min(92vw,1000px); margin:8px auto 18px; padding:14px 18px; border-radius:14px; border:1px solid rgba(98,199,255,.28); background:linear-gradient(180deg, rgba(8,20,45,.52), rgba(8,20,45,.34)); backdrop-filter: blur(12px) saturate(130%); box-shadow:0 10px 40px rgba(0,0,0,.35), inset 0 0 30px rgba(98,199,255,.06)}
@media (max-width:640px){ .intro-glass{padding:10px 12px; border-radius:12px} }

/* Futuristic gradient text with safe fallback */
.typewriter .type-line{ color:#e6f7ff }
@supports (-webkit-background-clip:text){
  .typewriter .type-line:not(.type-signature){
    background:linear-gradient(180deg, #eaf7ff 0%, #b9e3ff 45%, #8ecfff 90%);
    -webkit-background-clip:text; background-clip:text; color:transparent; 
    text-shadow:0 0 12px rgba(98,199,255,.14);
  }
}
.typewriter .type-signature{ font-style:italic; color:#a9d2ff; opacity:.95 }
@keyframes blink-cursor {
  50% {
    border-color: transparent;
  }
}
.navbar {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 1rem 0;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
}

.nav-links {
    display: flex;
    gap: 2rem;
    list-style: none;
}

.nav-links a {
    text-decoration: none;
    color: #2c3e50;
    font-weight: 500;
    transition: color 0.3s ease;
}

.nav-links a:hover {
    color: #667eea;
}
.glass-card {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    padding: 2rem;
    margin: 1rem 0;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
}
